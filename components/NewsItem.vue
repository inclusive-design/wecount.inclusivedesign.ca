<template>
	<!-- This compenent is used by data from pages api call as well as post api call -->
	<article>
		<figure v-if="showPreviewImage" class="preview-media">
			<img v-if="picture" :src="picture" :alt="altTag" class="news-item-img">
			<WeCountLogo v-else class="news-item-img" />
		</figure>
		<h2 class="h3">
			<a v-if="isExternalHref" :href="href" v-html="title" />
			<!-- Use v-if instead of v-else below is to work around an issue that <nuxt-link> does not
			convert to <a> tag in SSR mode when v-else is used. See https://github.com/nuxt/nuxt.js/issues/5388 -->
			<nuxt-link v-if="!isExternalHref" :to="href" v-html="title" />
		</h2>
		<div v-if="!isExternalHref" v-html="author" class="author" />
		<div class="date">
			<time :datetime="dateTime">{{ date }}</time>
		</div>
		<div v-html="excerpt" class="preview-content" />
	</article>
</template>

<script>
import WeCountLogo from "~/assets/images/logo_wecount.svg?inline";

export default {
	components: {
		WeCountLogo
	},
	props: {
		picture: {
			type: String,
			default: null
		},
		altTag: {
			type: String,
			default: "post thumbnail"
		},
		title: {
			type: String,
			default: "Untitled Post"
		},
		author: {
			type: String,
			default: ""
		},
		excerpt: {
			type: String,
			default: ""
		},
		date: {
			type: String,
			default: ""
		},
		dateTime: {
			type: String,
			default: ""
		},
		href: {
			type: String,
			default: ""
		},
		isExternalHref: {
			type: Boolean,
			default: false
		},
		showPreviewImage: {
			type: Boolean,
			default: false
		}
	}
};
</script>
